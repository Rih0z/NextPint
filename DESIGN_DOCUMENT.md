# NextPint デザイン設計書
## UI/UX統合ドキュメント

## 🍺 アプリケーション概要

NextPintは、AI技術を活用してビール愛好家に最適なビール発見体験を提供するWebアプリケーションです。ユーザーの好み、気分、状況に基づいてパーソナライズされたビール推奨を行い、セッション管理、データ分析、コミュニティ共有機能を統合したプラットフォームです。

---

# 🎯 UX設計（ユーザーエクスペリエンス）

## UX設計原則

### 中核的価値提案
1. **パーソナライゼーション**: ユーザー固有の好みと状況に基づく推奨
2. **学習促進**: ビールの知識と味覚の発達をサポート
3. **発見の楽しさ**: 新しいビールとの出会いを演出
4. **継続的改善**: 体験データから学習し、推奨精度を向上

### 設計原則
1. **Progressive Disclosure（段階的開示）**: 複雑な機能を段階的に提示
2. **User Control（ユーザー制御）**: ユーザーが体験をコントロール可能
3. **Error Prevention（エラー予防）**: 問題を未然に防ぐ設計
4. **Recognition over Recall（認識 > 記憶）**: 覚える負担を最小化

## 👥 ユーザーペルソナ

### プライマリペルソナ: 「探求者タケシ」
- **年齢**: 28歳、会社員
- **ビール経験**: 中級者（3年程度の趣味）
- **動機**: 新しいビールスタイルを体系的に探索したい
- **課題**: 情報が多すぎて何を試すべきか迷う
- **利用シーン**: 週末のビール購入前、飲み会での選択時

### セカンダリペルソナ: 「初心者ユイ」
- **年齢**: 24歳、大学院生
- **ビール経験**: 初心者（大手ビールのみ）
- **動機**: クラフトビールの世界を知りたい
- **課題**: 専門用語が分からない、失敗を恐れる
- **利用シーン**: 友人との食事、特別な日の選択

### ターシャリペルソナ: 「エキスパート山田」
- **年齢**: 35歳、ソムリエ
- **ビール経験**: 上級者（10年以上）
- **動機**: 効率的な情報管理とコミュニティ貢献
- **課題**: 既存ツールでは物足りない、データ移行が面倒
- **利用シーン**: 仕事での推奨、個人的な記録管理

## 🗺️ ユーザージャーニーマップ

### 新規ユーザーのジャーニー

**認知段階:**
- **タッチポイント**: 友人からの推薦、SNS広告
- **感情**: 興味、期待
- **行動**: サイト訪問、機能確認
- **ニーズ**: 価値の理解、信頼性の確認

**初回利用:**
- **タッチポイント**: ランディングページ、セッション作成
- **感情**: 興奮、不安（使いこなせるか）
- **行動**: 初回セッション作成、プロンプト使用
- **ニーズ**: 簡単な操作、即座の価値実感

**価値実感:**
- **タッチポイント**: AI推奨結果、実際のビール購入
- **感情**: 満足、驚き（推奨精度の高さ）
- **行動**: 推奨ビールの購入・試飲
- **ニーズ**: 期待以上の結果、継続利用の動機

**習慣化:**
- **タッチポイント**: 定期的な利用、データ蓄積
- **感情**: 信頼、愛着
- **行動**: データインポート、分析確認
- **ニーズ**: 継続的な価値、機能拡張

### 継続ユーザーのジャーニー

**日常利用:**
- **タッチポイント**: ホーム画面、クイックアクション
- **感情**: 慣れ、効率性を求める
- **行動**: 素早いセッション作成、履歴確認
- **ニーズ**: 迅速なアクセス、パーソナライゼーション

**探索深化:**
- **タッチポイント**: プロンプトライブラリ、高度な機能
- **感情**: 好奇心、マスター感
- **行動**: 複雑なセッション作成、コミュニティ参加
- **ニーズ**: 高度な機能、専門性の向上

## 🎨 感情設計

### ブランド感情の演出

**発見の興奮:**
- 新しいビールとの出会いの瞬間を特別に演出
- サプライズ要素の適度な配置
- 「まだ見ぬ味」への期待感醸成

**学習の達成感:**
- 知識習得の可視化
- レベルアップ感の提供
- 専門性向上の実感

**コミュニティの温かさ:**
- 他ユーザーとの良い出会い
- 知識共有の喜び
- 互いの成長を祝福する文化

### マイクロモーメント設計

**ファーストインプレッション（初回訪問）:**
- 3秒以内での価値理解
- 複雑さを感じさせない導入
- 即座の成功体験提供

**デイリーモーメント（日常利用）:**
- 毎日使いたくなる仕掛け
- ルーティン化の支援
- 小さな発見の継続提供

**スペシャルモーメント（特別な体験）:**
- 記念日・達成時の特別演出
- パーソナライズされた提案
- シェアしたくなる体験

---

# 🎨 UI設計（ユーザーインターフェース）

## デザインシステム

### ビジュアルアイデンティティ

**コンセプト:**
- モダン・プレミアム・アクセシブル
- ビール文化への敬意と革新性の両立
- 夜の雰囲気とクラフトビールの職人性を表現

**デザイン原則:**
1. **Clarity（明確性）**: 情報階層が明確で迷わない
2. **Consistency（一貫性）**: 全画面で統一されたUI要素
3. **Accessibility（アクセシビリティ）**: すべてのユーザーが使える
4. **Delight（楽しさ）**: ビール発見の楽しさを演出

### カラーパレット

```css
/* Primary Colors */
--primary-500: #3B82F6     /* メインアクション */
--primary-400: #60A5FA     /* セカンダリアクション */

/* Background */
--background: #0F172A       /* ダークベース */
--background-secondary: #1E293B  /* カード背景 */
--background-tertiary: #334155   /* ホバー状態 */

/* Text */
--text-primary: #F8FAFC     /* メインテキスト */
--text-secondary: #CBD5E1   /* サブテキスト */
--text-tertiary: #94A3B8    /* 補助テキスト */

/* Status Colors */
--success: #10B981          /* 成功・完了 */
--warning: #F59E0B          /* 警告・注意 */
--error: #EF4444            /* エラー・失敗 */
```

### タイポグラフィ

**フォント階層:**
```css
/* Headings */
.text-3xl: 1.875rem (30px)  /* ページタイトル */
.text-2xl: 1.5rem (24px)    /* セクションタイトル */
.text-xl: 1.25rem (20px)    /* サブタイトル */

/* Body */
.text-base: 1rem (16px)     /* 基本テキスト */
.text-sm: 0.875rem (14px)   /* 小さなテキスト */

/* 日本語フォント */
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', sans-serif
```

### コンポーネントスタイル

**カードデザイン:**
- グラスモーフィズム効果（backdrop-filter）
- 丸角（border-radius: 12px）
- シャドウ効果（box-shadow）
- ボーダー（border: 1px solid rgba(255,255,255,0.1)）

**ボタンデザイン:**
- Primary: 青系グラデーション + ホワイトテキスト
- Secondary: 半透明背景 + ボーダー
- サイズ: Small(32px), Medium(40px), Large(48px)
- ホバー・フォーカス状態のマイクロインタラクション

---

# 📱 機能設計・画面設計

## 機能別UX設計

### 1. セッション作成体験

**UXゴール:**
- 初心者でも迷わず完了できる
- 専門知識がなくても適切な推奨を得られる
- 時間をかけずに価値を実感できる

**体験フロー:**
```
開始 → 目標設定 → 好み入力 → 詳細設定 → 結果確認 → 活用
  ↓       ↓        ↓        ↓        ↓        ↓
興味   理解      楽しさ    カスタム   満足     継続
```

**UI設計・各ステップの詳細:**

**Step 1: 目標設定**
```
[プログレスバー: 1/4]
[目標選択]
├ ○ 新しいビアスタイルを発見
├ ○ 今の気分に合うビールを見つける
├ ○ 特別な日のためのビールを探す
└ ○ 料理に合うペアリングを探す

[気分選択]
├ 冒険的 │ リラックス │ 祝祭的
└ 内省的 │ 社交的   │ その他
```

**UX配慮:**
- **認知負荷軽減**: アイコン + 短い説明文
- **選択支援**: 人気順・推奨マーク表示
- **パーソナライゼーション**: 過去の選択を学習

**Step 2: 好み入力**
```
[好きな味（複数選択可）]
├ ホップ味 │ 麦芽味 │ フルーティー
├ スパイシー│ スモーキー│ サワー
└ クリーミー│ ドライ │ スイート

[避けたい味]
├ チェックボックス形式
└ 「なし」オプション
```

**UX配慮:**
- **専門用語回避**: 分かりやすい表現使用
- **視覚的選択**: 色・形での表現
- **ガイダンス**: 各選択肢の説明提供

**Step 3: 詳細設定**
```
[制約条件]
├ 場所: 自由入力
├ 予算: スライダー選択
├ ABV: 範囲選択
└ その他: タグ入力

[キーワード]
├ 自由入力フィールド
└ サジェスト機能
```

**UX配慮:**
- **オプション扱い**: 必須でない項目は明確に分離
- **スマートデフォルト**: 過去データから推測
- **柔軟性**: スキップ可能な設計

**Step 4: プロンプト生成・結果**
```
[生成されたプロンプト]
├ プレビュー表示
├ コピーボタン
└ AI別最適化表示（Claude/GPT/Gemini）

[アクション]
├ プロンプトをコピー
├ セッションを保存
└ すぐに使用
```

**UX配慮:**
- **即座の価値**: すぐに使えるプロンプト
- **行動促進**: コピー・共有の容易さ
- **フィードバック**: 結果への評価収集

### 2. データインポート体験

**UXゴール:**
- 既存データの価値を最大化
- 技術的ハードルを感じさせない
- 段階的なデータ移行を支援

**UI設計・タブ構成:**
```
[タブナビゲーション]
├ [🤖 AIアシスタント] │ [📁 ファイルアップロード]

AIアシスタントタブ:
└ DataImportWizardコンポーネント
   ├ Step 1: プロンプト表示・コピー
   ├ Step 2: JSON入力・検証
   ├ Step 3: データ処理
   └ Step 4: 完了確認

ファイルアップロードタブ:
├ 対応アプリ一覧（Untappd, RateBeer, BeerAdvocate）
├ ドラッグ&ドロップエリア
├ ファイル選択・カメラ撮影
├ 処理中状態
└ 結果表示
```

**2つのアプローチ:**

**AIアシスタント方式:**
- **対象**: 技術に不慣れなユーザー
- **メリット**: 対話的で安心感がある
- **体験**: ガイド付きの段階的収集

**ファイルアップロード方式:**
- **対象**: 効率を重視するユーザー
- **メリット**: 一括処理で時短
- **体験**: ドラッグ&ドロップで直感的

**共通のUX配慮:**
- **進捗可視化**: 現在の状況を常に表示
- **エラー回復**: 問題発生時の明確な解決策
- **データ安全性**: プライバシー保護の明示

### 3. 分析・洞察体験

**UXゴール:**
- 自己理解の促進
- 次の行動への動機付け
- 成長実感の提供

**情報階層:**
```
概要 → 詳細 → 洞察 → 行動提案
 ↓     ↓     ↓       ↓
把握  理解   発見    成長
```

**UI設計・レイアウト構成:**
```
[概要統計]
├ 試したビール数 │ セッション数 │ 平均評価
└ 今月の新発見 │ リピート率 │ 冒険度スコア

[ビールパーソナリティ]
├ 診断結果（Explorer/Connoisseur/Adventurer等）
├ 特徴説明
└ おすすめアクション

[詳細分析]
├ 好みのスタイル分布（円グラフ）
├ 月別試飲トレンド（折れ線グラフ）
├ 評価分布（ヒストグラム）
└ よく行く場所（マップ）

[インサイト・推奨]
├ 発見した傾向
├ 次に試すべきスタイル
├ おすすめブルワリー
└ 改善提案
```

**分析コンテンツの設計:**

**パーソナリティ診断:**
- **目的**: 自己理解の促進
- **手法**: 楽しいクイズ形式
- **結果**: 具体的な特徴説明 + 推奨行動

**傾向分析:**
- **目的**: 気づきの提供
- **手法**: ビジュアル化 + 比較データ
- **結果**: 意外な発見 + 改善提案

**成長追跡:**
- **目的**: 継続動機の維持
- **手法**: 時系列での変化表示
- **結果**: 達成感 + 次の目標設定

## 画面別UI設計詳細

### 1. ランディングページ `/`

**目的:** 新規ユーザーの獲得と既存ユーザーの再訪促進

**レイアウト構成:**
```
[ヒーローセクション]
├ キャッチコピー + アニメーション
├ 主要統計（ビール数、セッション数）
└ CTAボタン「今すぐ発見」

[特徴紹介]
├ AI-Powered Discovery カード
├ Privacy First カード  
└ AI-Neutral カード

[クイックアクション]
├ セッション作成
├ プロンプト検索
├ データインポート
└ 分析ダッシュボード

[最近のアクティビティ]
```

**UXの工夫:**
- プログレッシブ・ディスクロージャー（段階的な情報開示）
- マイクロアニメーション（fade-in, slide-up）
- 空状態への配慮（新規ユーザー向けガイダンス）

### 2. ホーム画面 `/home`

**目的:** ユーザーのダッシュボード・統計表示・クイックアクセス

**レイアウト構成:**
```
[統計概要グリッド]
├ 試したビール数 │ 発見セッション数
├ お気に入り数  │ プロンプト使用数
└ 今月の新発見  │ 平均評価

[クイックアクション]
├ 新しいセッション作成
├ インポート開始
├ プロンプト検索
└ 分析表示

[最近のセッション]
├ セッション履歴（最新5件）
└ 「すべて見る」リンク
```

**インタラクション:**
- カウンターアニメーション（数値の増加表現）
- ホバー時のカード浮上効果
- 空状態時のイラストレーション

### 3. セッション管理 `/sessions`

**目的:** 作成したセッションの管理・検索・活用

**レイアウト構成:**
```
[ヘッダー + フィルター]
├ 検索バー
├ ステータスフィルター（全て/アクティブ/完了/アーカイブ）
├ 並び替えオプション
└ 一括アクション（選択時表示）

[セッションリスト]
├ セッションカード1 [□ 選択] [ステータス] [日付] [アクション...]
├ セッションカード2 [□ 選択] [ステータス] [日付] [アクション...]
└ セッションカード3 [□ 選択] [ステータス] [日付] [アクション...]

[ページネーション]
```

**セッションカード詳細:**
```
[カードヘッダー]
├ セッション名 + 作成日
├ ステータスバッジ
└ アクションメニュー（...）

[カード本体]
├ 目標・気分の要約
├ 主要な設定（場所、予算等）
└ プロンプトプレビュー

[カードフッター]
├ 使用回数 │ 最終使用日
└ クイックアクション（コピー、編集、削除）
```

### 4. プロンプトライブラリ `/prompts`

**目的:** テンプレート検索・閲覧・活用

**レイアウト構成:**
```
[検索・フィルター]
├ 検索バー
├ カテゴリフィルター（発見/分析/比較/インポート）
├ 難易度フィルター
└ 言語フィルター

[プロンプトグリッド]
├ プロンプトカード1 │ プロンプトカード2
├ プロンプトカード3 │ プロンプトカード4
└ [もっと読み込む]
```

**プロンプトカード構成:**
```
[カードヘッダー]
├ カテゴリアイコン + 色分け
├ 難易度バッジ
└ お気に入りボタン

[カード本体]
├ プロンプト名
├ 説明文（2行省略）
├ 対応AIサービス
└ 推定トークン数

[カードフッター]
├ 作成者 │ 使用回数
└ アクション（プレビュー、コピー、使用）
```

---

# 🔄 インタラクション設計

## フィードバックシステム

**即座のフィードバック（< 100ms）:**
- ボタンクリック時の視覚的変化
- 入力フィールドのフォーカス状態
- ホバー時の要素強調

**短期フィードバック（100ms - 1s）:**
- フォーム送信の進行状況
- データ保存の完了通知
- エラーメッセージの表示

**長期フィードバック（> 1s）:**
- 複雑な処理の進捗表示
- バックグラウンド処理の状況
- 週次・月次の成果サマリー

## 状態管理

**読み込み状態:**
- **軽微**: インラインスピナー
- **中程度**: スケルトンスクリーン
- **重い**: 全画面ローディング + 進捗

**エラー状態:**
- **軽微**: インラインエラーメッセージ
- **中程度**: 警告モーダル + 解決策
- **重い**: エラーページ + サポート案内

**成功状態:**
- **軽微**: チェックマークアニメーション
- **中程度**: 成功通知 + 次のアクション提案
- **重い**: 成功ページ + 達成感演出

## マイクロインタラクション

**マイクロインタラクション:**
- ボタンホバー: 色変化 + 軽微な拡大
- カードホバー: シャドウ強化 + 浮上効果
- 読み込み: スケルトンスクリーン + プログレスバー
- 成功: チェックマークアニメーション + 色変化
- エラー: 赤色フラッシュ + シェイクアニメーション

**ナビゲーション:**
- パンくずリスト（深い階層での現在位置）
- 戻るボタン（ユーザーの安心感）
- ステップインジケーター（ウィザードでの進捗）
- タブナビゲーション（関連機能のグループ化）

**情報アーキテクチャ:**
```
ホーム
├── セッション管理
│   ├── 新規作成
│   ├── 履歴一覧
│   └── アーカイブ
├── データ管理
│   ├── インポート
│   ├── エクスポート
│   └── バックアップ
├── 学習・発見
│   ├── プロンプトライブラリ
│   ├── ビール知識
│   └── コミュニティ
└── 分析・洞察
    ├── パーソナル分析
    ├── 傾向レポート
    └── 成長追跡
```

---

# 📐 レスポンシブデザイン・技術実装

## レスポンシブデザイン

### ブレークポイント
```css
/* Mobile First */
sm: 640px    /* タブレット */
md: 768px    /* 小型ラップトップ */
lg: 1024px   /* デスクトップ */
xl: 1280px   /* 大型デスクトップ */
```

### レイアウト適応

**モバイル (< 640px):**
- 1カラムレイアウト
- フルスクリーンモーダル
- ボトムナビゲーション
- スワイプジェスチャー

**タブレット (640px - 1024px):**
- 2カラムレイアウト（適所）
- サイドパネル
- タッチ最適化

**デスクトップ (> 1024px):**
- 3カラムレイアウト（一覧画面）
- ホバー最適化
- キーボードショートカット
- 大きな情報密度

## アニメーション・トランジション

### パフォーマンス原則
- 60FPS維持
- GPU加速（transform, opacity）
- 不要なリフロー回避
- バッテリー消費考慮

### アニメーション種類

**画面遷移:**
```css
/* ページ間 */
fade-in: opacity 0→1 (300ms ease-out)
slide-up: translateY 20px→0 (400ms ease-out)

/* モーダル */
scale-in: scale 0.9→1 + opacity 0→1 (200ms ease-out)
backdrop-blur: backdrop-filter blur(0→8px) (300ms)
```

**要素の状態変化:**
```css
/* ボタン */
hover: transform scale(1.02) (150ms ease-out)
active: transform scale(0.98) (100ms ease-out)

/* カード */
hover: translateY -2px + shadow強化 (200ms ease-out)
```

### 読み込み状態
- スケルトンスクリーン（コンテンツ形状を示唆）
- プログレスバー（進捗のある処理）
- スピナー（短時間の処理）
- プレースホルダー（画像・テキスト）

## 技術実装

### CSS構成
```
styles/
├ globals.css           # ベーススタイル
├ components.css        # コンポーネントスタイル
└ utilities.css         # ユーティリティクラス
```

### Tailwind設定
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: { /* カスタムカラー */ },
      spacing: { /* カスタム間隔 */ },
      animation: { /* カスタムアニメーション */ }
    }
  }
}
```

### ダークモード実装
```css
/* システム設定に追従 */
@media (prefers-color-scheme: dark) {
  /* ダークモードスタイル */
}

/* 手動切り替え */
.dark {
  /* ダークモードスタイル */
}
```

---

# 🧪 評価・改善

## アクセシビリティ

**キーボードナビゲーション:**
- Tab順序の最適化
- フォーカス可視化
- ショートカットキー対応

**スクリーンリーダー対応:**
- セマンティックHTML構造
- 適切なARIA属性
- 代替テキスト提供

**色・コントラスト:**
- WCAG 2.1 AAレベル準拠
- 色以外の情報伝達手段
- ダークモード対応

## パフォーマンス最適化

### Core Web Vitals目標
- LCP (Largest Contentful Paint): < 2.5s
- FID (First Input Delay): < 100ms  
- CLS (Cumulative Layout Shift): < 0.1

### 最適化手法
- 画像最適化（WebP, AVIF）
- コード分割（Dynamic Import）
- プリフェッチ（重要なリソース）
- キャッシュ戦略（SW, HTTP Cache）
- 遅延読み込み（Lazy Loading）

## UX指標と評価

### 定量的指標

**利用継続性:**
- DAU/MAU比率 > 0.3
- セッション継続率（7日） > 60%
- 3ヶ月継続率 > 40%

**機能利用度:**
- セッション作成完了率 > 85%
- データインポート成功率 > 75%
- プロンプト利用率 > 60%

**満足度:**
- NPS（Net Promoter Score） > 50
- 機能満足度 > 4.0/5.0
- サポート評価 > 4.2/5.0

### 定性的指標

**ユーザビリティテスト:**
- タスク完了時間の測定
- エラー発生率の監視
- ユーザーの主観的評価収集

**行動分析:**
- 離脱ポイントの特定
- 利用パターンの分析
- 機能間の遷移フロー解析

**フィードバック収集:**
- アプリ内フィードバック機能
- 定期的なユーザーインタビュー
- コミュニティでの意見収集

## 継続的改善サイクル

### 改善プロセス

**1. データ収集**
- ユーザー行動ログ
- A/Bテスト結果
- 直接フィードバック

**2. 分析・洞察**
- 行動パターンの発見
- 課題の優先順位付け
- 改善機会の特定

**3. 仮説立案**
- 問題の根本原因推定
- 解決策の複数案検討
- 影響範囲の予測

**4. 実装・検証**
- プロトタイプ作成
- 小規模テスト実施
- 結果の定量的評価

**5. 展開・学習**
- 全体への適用
- 効果測定の継続
- 次の改善サイクルへ

### 長期的ビジョン

**フェーズ1（現在）: 基本体験の確立**
- 核となる価値提供の安定化
- 主要ユーザーフローの最適化
- 基本的なパーソナライゼーション

**フェーズ2（6ヶ月後）: 知性化**
- AI推奨精度の向上
- より深いパーソナライゼーション
- 予測的な提案機能

**フェーズ3（1年後）: コミュニティ化**
- ユーザー間の価値交換
- 集合知の活用
- ソーシャル機能の拡張

**フェーズ4（2年後）: エコシステム化**
- 外部サービス連携
- ブルワリーとの直接連携
- リアル体験との統合

---

このドキュメントは、NextPintのUI/UX設計における統合的な指針として、開発チーム全体での一貫した品質とユーザー体験の提供、継続的な改善を目的としています。