(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{7099:function(e,t,s){Promise.resolve().then(s.bind(s,804))},5862:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7592:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8137:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},2513:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1902:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},804:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=s(7437),l=s(2265),r=s(6463),c=s(89),n=s(2513),i=s(4817),o=s(1066);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),x=(0,o.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var m=s(5862);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,o.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var h=s(883);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,o.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var y=s(1902),g=s(8137),f=s(933),v=s(7592),b=s(4935),j=s(4613);function k(){let{t:e}=(0,c.$G)(),t=(0,r.useRouter)(),[s,o]=(0,l.useState)([]),[k,N]=(0,l.useState)(!0),[w,D]=(0,l.useState)(""),[C,Z]=(0,l.useState)("newest"),[S,A]=(0,l.useState)("all"),[z,E]=(0,l.useState)(!1),[_,M]=(0,l.useState)([]),[F,L]=(0,l.useState)(!1);(0,l.useEffect)(()=>{T(),j.w.getAnalyticsService().trackEvent("page_view",{page:"sessions_list"})},[]);let T=async()=>{try{let e=j.w.getStorageService(),t=await e.getSessions();o(t)}catch(e){console.error("Error loading sessions:",e)}finally{N(!1)}},V=s.filter(e=>{if(w){let t=w.toLowerCase();return e.profile.sessionGoal.toLowerCase().includes(t)||e.profile.mood.toLowerCase().includes(t)||e.profile.searchKeywords.some(e=>e.toLowerCase().includes(t))}return!0}).filter(e=>"all"===S||e.status===S).sort((e,t)=>{switch(C){case"newest":return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();case"name":return e.profile.sessionGoal.localeCompare(t.profile.sessionGoal);case"status":return e.status.localeCompare(t.status);default:return 0}}),G=e=>{j.w.getAnalyticsService().trackEvent("session_click",{sessionId:e}),t.push("/sessions/".concat(e))},K=()=>{j.w.getAnalyticsService().trackEvent("session_create_click",{source:"sessions_page"}),t.push("/sessions/create")},P=async e=>{if(0!==_.length)try{let t=j.w.getStorageService(),a=s;switch(e){case"archive":a=s.map(e=>_.includes(e.id)?{...e,status:"archived",updatedAt:new Date().toISOString()}:e);break;case"complete":a=s.map(e=>_.includes(e.id)?{...e,status:"completed",updatedAt:new Date().toISOString()}:e);break;case"delete":if(!confirm("".concat(_.length,"個のセッションを削除しますか？")))return;a=s.filter(e=>!_.includes(e.id))}await t.saveSessions(a),o(a),M([]),L(!1),j.w.getAnalyticsService().trackEvent("bulk_action",{action:e,sessionCount:_.length})}catch(e){console.error("Error performing bulk action:",e),alert("一括操作に失敗しました")}},O=e=>{M(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},q=e=>({adventurous:"\uD83D\uDE80",relaxed:"\uD83D\uDE0C",celebratory:"\uD83C\uDF89",contemplative:"\uD83E\uDD14",social:"\uD83D\uDC65",nostalgic:"\uD83D\uDCAD"})[e]||"\uD83C\uDF7A",I=e=>{switch(e){case"active":return"bg-green-500/20 text-green-400";case"completed":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}},R=e=>{switch(e){case"active":return"アクティブ";case"completed":return"完了";case"archived":return"アーカイブ";default:return"不明"}},H={all:s.length,active:s.filter(e=>"active"===e.status).length,completed:s.filter(e=>"completed"===e.status).length,archived:s.filter(e=>"archived"===e.status).length};return k?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-dark",children:[(0,a.jsx)(b.Z,{}),(0,a.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-4rem)]",children:(0,a.jsxs)("div",{className:"text-center animate-fade-in",children:[(0,a.jsx)("div",{className:"spinner mx-auto mb-6"}),(0,a.jsx)("p",{className:"text-lg text-text-secondary",children:"読み込み中..."})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-dark",children:[(0,a.jsx)(b.Z,{}),(0,a.jsxs)("main",{className:"mobile-container mobile-section pb-24 lg:pb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"ビール発見セッション"}),(0,a.jsx)("p",{className:"text-text-secondary",children:s.length>0?"".concat(s.length,"個のセッション"):"セッションがありません"})]}),(0,a.jsxs)("button",{onClick:K,className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(n.Z,{size:20}),"新しいセッション"]})]}),(0,a.jsxs)("div",{className:"glass-card rounded-xl p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(i.Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary"}),(0,a.jsx)("input",{type:"text",value:w,onChange:e=>D(e.target.value),placeholder:"セッションを検索...",className:"w-full pl-10 pr-4 py-3 rounded-lg bg-background-secondary border border-gray-700 focus:border-primary-500 focus:outline-none"})]}),(0,a.jsxs)("button",{onClick:()=>E(!z),className:"btn-secondary flex items-center gap-2 ".concat(z?"bg-primary-500/20 text-primary-400":""),children:[(0,a.jsx)(d,{size:20}),"フィルター"]})]}),z&&(0,a.jsxs)("div",{className:"border-t border-gray-700 pt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"ステータス"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"すべて (".concat(H.all,")")},{value:"active",label:"アクティブ (".concat(H.active,")")},{value:"completed",label:"完了 (".concat(H.completed,")")},{value:"archived",label:"アーカイブ (".concat(H.archived,")")}].map(e=>(0,a.jsx)("button",{onClick:()=>A(e.value),className:"\n                        px-3 py-2 rounded-lg text-sm transition-all\n                        ".concat(S===e.value?"bg-primary-500/20 text-primary-400":"bg-background-secondary text-text-secondary hover:text-text-primary","\n                      "),children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"並び順"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"newest",label:"新しい順"},{value:"oldest",label:"古い順"},{value:"name",label:"名前順"},{value:"status",label:"ステータス順"}].map(e=>(0,a.jsxs)("button",{onClick:()=>Z(e.value),className:"\n                        px-3 py-2 rounded-lg text-sm flex items-center gap-1 transition-all\n                        ".concat(C===e.value?"bg-primary-500/20 text-primary-400":"bg-background-secondary text-text-secondary hover:text-text-primary","\n                      "),children:[(0,a.jsx)(x,{size:14}),e.label]},e.value))})]})]})]}),_.length>0&&(0,a.jsx)("div",{className:"glass-card rounded-xl p-4 mb-6 border-primary-500/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-primary-400 font-medium",children:[_.length,"個のセッションを選択中"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>P("complete"),className:"btn-secondary-small",children:[(0,a.jsx)(m.Z,{size:16}),"完了にする"]}),(0,a.jsxs)("button",{onClick:()=>P("archive"),className:"btn-secondary-small",children:[(0,a.jsx)(u,{size:16}),"アーカイブ"]}),(0,a.jsxs)("button",{onClick:()=>P("delete"),className:"btn-secondary-small text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(h.Z,{size:16}),"削除"]})]})]})}),0===V.length?(0,a.jsx)("div",{className:"text-center py-16",children:w||"all"!==S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-5xl mb-6 opacity-50",children:"\uD83D\uDD0D"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"条件に一致するセッションが見つかりません"}),(0,a.jsx)("p",{className:"text-text-secondary mb-6",children:"検索条件やフィルターを変更してみてください"}),(0,a.jsx)("button",{onClick:()=>{D(""),A("all")},className:"btn-secondary",children:"条件をクリア"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-5xl mb-6 opacity-50",children:"\uD83C\uDFAF"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"最初のビール発見セッションを作成しましょう"}),(0,a.jsx)("p",{className:"text-text-secondary mb-6",children:"AIを使ってあなたにぴったりのビールを見つけてみませんか？"}),(0,a.jsxs)("button",{onClick:K,className:"btn-primary",children:[(0,a.jsx)(n.Z,{size:20,className:"mr-2"}),"セッション作成"]})]})}):(0,a.jsx)("div",{className:"space-y-4",children:V.map(e=>(0,a.jsx)("div",{className:"glass-card rounded-xl p-4 sm:p-6 hover:scale-[1.01] active:scale-[0.99] transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,a.jsx)("button",{onClick:()=>O(e.id),className:"\n                      mt-1 p-1 rounded transition-colors\n                      ".concat(_.includes(e.id)?"text-primary-400":"text-text-tertiary hover:text-text-secondary","\n                    "),children:_.includes(e.id)?(0,a.jsx)(m.Z,{size:20}):(0,a.jsx)(p,{size:20})}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(y.Z,{size:20,className:"text-primary-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("button",{onClick:()=>G(e.id),className:"text-left group flex-1",children:(0,a.jsx)("h3",{className:"font-semibold text-base sm:text-lg line-clamp-2 group-hover:text-primary-400 transition-colors",children:e.profile.sessionGoal})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-2",children:[(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(I(e.status)),children:R(e.status)}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"p-1 text-text-tertiary hover:text-text-primary transition-colors",children:(0,a.jsx)(g.Z,{size:16})})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-text-secondary mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:q(e.profile.mood)}),(0,a.jsx)("span",{children:e.profile.mood})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.Z,{size:14}),(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("ja-JP")})]}),(0,a.jsxs)("span",{className:"text-text-tertiary",children:["プロンプト: ",e.generatedPrompts.length,"個"]})]}),e.profile.searchKeywords.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.profile.searchKeywords.slice(0,3).map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-background-secondary rounded-full text-xs text-text-tertiary",children:e},t)),e.profile.searchKeywords.length>3&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-background-secondary rounded-full text-xs text-text-tertiary",children:["+",e.profile.searchKeywords.length-3]})]})]}),(0,a.jsx)("button",{onClick:()=>G(e.id),className:"mt-1 text-text-tertiary hover:text-text-primary transition-colors",children:(0,a.jsx)(v.Z,{size:20})})]})},e.id))})]})]})}}},function(e){e.O(0,[89,474,915,971,526,744],function(){return e(e.s=7099)}),_N_E=e.O()}]);